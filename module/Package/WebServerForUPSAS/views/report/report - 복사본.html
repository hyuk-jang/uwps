<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SM부트스트랩 테마디자인</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 위 3개의 메타 태그는 *반드시* head 태그의 처음에 와야합니다; 어떤 다른 콘텐츠들은 반드시 이 태그들 *다음에* 와야 합니다 -->

    <!-- 부트스트랩 -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <script src="js/jquery-3.1.1.min.js"></script>
    <link href="css/StyleSheet.css" rel="stylesheet" />
    <link href="css/datepicker3.css" rel="stylesheet" />
</head>

<body>
    <!-- jQuery (부트스트랩의 자바스크립트 플러그인을 위해 필요합니다) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- 모든 컴파일된 플러그인을 포함합니다 (아래), 원하지 않는다면 필요한 각각의 파일을 포함하세요 -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src="js/bootstrap-datepicker.kr.js"></script>

    <link href="fonts/font-awesome.min.css" rel="stylesheet" />
    <!--네비-->
    <%- include("../master/header.html") %>


        <!--메인-->

        <div class="jumbotron text-center jumbotron_line">
            <div class="row row_st_line">
                <div class="row row_width" style="margin-bottom:20px;">

                    <div class="col-sm-7">

                        <div class="input_st" style="display:inline-block; width:230px; float:left; padding-left:28px; padding-right:15px; margin-left:30px;">
                            <span style="float:left; line-height:2; margin-right:10px; ">조회간격</span>
                            <select class="form-control" id="sel1" style="width:100px; margin-top:-2px; height:30px; padding: 4px 12px;">
                            <option>1시간</option>
                            <option>2시간</option>
                            <option>3시간</option>
                            <option>4시간</option>
                            <option>5시간</option>
                            <option>6시간</option>
                            <option>7시간</option>
                            <option>8시간</option>
                            <option>9시간</option>
                            <option>10시간</option>

                        </select>
                        </div>


                        <div class="input_st">
                            <label class="radio-inline"><input type="radio" class="right_check" name="optradio" value="day">일일</label>
                            <label class="radio-inline"><input type="radio" class="right_check" name="optradio" value="month">월간</label>
                            <label class="radio-inline"><input type="radio" class="right_check" name="optradio" value="year">년간</label>
                            <label class="radio-inline"><input type="radio" class="right_check_2" name="optradio" value="select">기간선택</label>
                        </div>
                    </div>


                    <div class="col-sm-5 serch_st" id='search_div' hidden="hidden">
                        날짜 &nbsp;
                        <input class="input_tre" name="start" id="start" type="text" readonly>
                        <input class="input_tre" name="end" id="end" type="text" readonly hidden="hidden">
                        <button type="button" class="btn btn-primary" style="margin-bottom:3px; height:28px;" id="search">검색</button>

                    </div>


                </div>

                <div class="table-responsive row_width">
                    <table class="table table-hover" style="border-bottom:1px solid #ddd;">
                        <thead>
                            <tr class="report_table">
                                <th rowspan="2" style="width:5%; vertical-align:middle">번호</th>
                                <th rowspan="2" style="width:12%; vertical-align:middle">일시</th>
                                <th colspan="2" style="width:6%;">수중모듈1 (1CH)</th>
                                <th colspan="2" style="width:6%;">수중모듈2 (2CH)</th>
                                <th colspan="2" style="width:6%;">수중모듈3 (3CH)</th>
                                <th colspan="2" style="width:6%;">수중모듈4 (4CH)</th>
                                <th colspan="2" style="width:6%;">수중모듈5 (5CH)</th>
                                <th colspan="2" style="width:6%;">수중모듈6 (6CH)</th>
                                <th rowspan="2" style="width:7%; vertical-align:middle">발전량(kWh)</th>
                                <th rowspan="2" style="width:7%; vertical-align:middle">변환효율(%)</th>
                                <th rowspan="2" style="width:7%; vertical-align:middle">대기온도(℃)</th>
                                <th rowspan="2" style="width:7%; vertical-align:middle">대기습도(%)</th>
                                <th rowspan="2" style="width:7%; vertical-align:middle">풍속(m/s)</th>
                            </tr>

                            <tr class="report_table">
                                <th style="width:6%;">전력량(wh)</th>
                                <th style="width:6%;">온도(℃)</th>
                                <th style="width:6%;">전력량(wh)</th>
                                <th style="width:6%;">온도(℃)</th>
                                <th style="width:6%;">전력량(wh)</th>
                                <th style="width:6%;">온도(℃)</th>
                                <th style="width:6%;">전력량(wh)</th>
                                <th style="width:6%;">온도(℃)</th>
                                <th style="width:6%;">전력량(wh)</th>
                                <th style="width:6%;">온도(℃)</th>
                                <th style="width:6%;">전력량(wh)</th>
                                <th style="width:6%;">온도(℃)</th>
                            </tr>



                        </thead>
                        <tbody id="myTable">
                            <% 
                            for(var i=0; i < list.length; i++){
                                var List = list[i];
                            %>
                                <tr class="sel">
                                    <td class="td1 td1_num">
                                        <%= i+1 %>
                                    </td>
                                    <td>
                                        <%= List.writedate %>
                                    </td>
                                    <td>
                                        <%= List.ch_w1 %>
                                    </td>
                                    <td></td>
                                    <td>
                                        <%= List.ch_w2 %>
                                    </td>
                                    <td></td>
                                    <td>
                                        <%= List.ch_w3 %>
                                    </td>
                                    <td></td>
                                    <td>
                                        <%= List.ch_w4 %>
                                    </td>
                                    <td></td>
                                    <td>
                                        <%= List.ch_w5 %>
                                    </td>
                                    <td></td>
                                    <td>
                                        <%= List.ch_w6 %>
                                    </td>
                                    <td></td>
                                    <td>
                                        <%= List.kWh %>
                                    </td>
                                    <td>
                                        <%= List.p_f %>
                                    </td>
                                    <td>
                                        <%= List.tem %>
                                    </td>
                                    <td>
                                        <%= List.hum %>
                                    </td>
                                    <td>
                                        <%= List.wind_speed %>
                                    </td>
                                </tr>
                                <%
                            }
                        %>
                        </tbody>
                    </table>

                    <ul class="pagination pagination-lg pager" id="myPager">

                    </ul>

                </div>



            </div>

            <div style="margin:0 auto; margin-top:70px; text-align: center;">

                <p style="font-size: 13px;"> COPYRIGHT 2005. 에스엠소프트웨어(주) ALL RIGHTS RESERVED.</p>
            </div>

        </div>




        <script type="text/javascript">
            $(document).ready(function () {
                $(".sel").each(function () {
                    $(this).click(function () {
                        $(this).addClass("selected"); //클릭된 부분을 상단에 정의된 CCS인 selected클래스로 적용
                        $(this).siblings().removeClass("selected"); //siblings:형제요소들,    removeClass:선택된 클래스의 특성을 없앰
                    });
                });
            });
        </script>
        <script src="js/pager.js"> 
          
        </script>

        <script>
            $('input[type=radio][name=optradio]').change(function () {
                var checkRadio = $('input[type=radio][name=optradio]:checked').val();
                if (checkRadio == 'select') {
                    $('#search_div').show();
                    $('#end').show();
                    startDatepicker(0, "yyyy-mm-dd");
                    endDatepicker();
                } else {
                    $('#search_div').show();
                    $('#end').hide();
                    if (checkRadio == 'day') {
                        startDatepicker(0, "yyyy-mm-dd");
                    } else if (checkRadio == 'month') {
                        startDatepicker(1, "yyyy-mm");
                    } else if (checkRadio == 'year') {
                        startDatepicker(2, "yyyy");
                    }
                }
            });

            $('#search').click(function () {
                var checkRadio = $('input[type=radio][name=optradio]:checked').val();
                var start = $('#start').val();
                var end = $('#end').val();

                if (checkRadio == 'select') {
                    if (start == '' || end == '') {
                        alert('날짜를 선택해주세요');
                    } else {

                        if (start > end) {
                            alert('종료일이 시작일보다 빠를 수 없습니다.');
                            $('#end').val('');
                        } else {
                            return location.href = '/report?&start=' + start + '&end=' + end + '&checkRadio=' + checkRadio;
                        }
                    }
                } else {
                    return location.href = '/report?&start=' + start + '&checkRadio=' + checkRadio;
                }
            })

            $('#sel1').click(function () {
                $('#search_div').hide();
                $('input:radio[name="optradio"]').prop("checked", false);
            });


            function startDatepicker(mode, format) {
                $('#start').datepicker('remove');
                $('#start').val('');
                $('#start').datepicker({
                    format: format,
                    language: "kr",
                    autoclose: 1,
                    todayHighlight: 1,
                    clearBtn: 1,
                    minViewMode: mode
                });
            }

            function endDatepicker() {
                $('#end').val('');
                $('#end').datepicker({
                    format: "yyyy-mm-dd",
                    language: "kr",
                    autoclose: 1,
                    todayHighlight: 1,
                    clearBtn: 1,
                    minViewMode: 0
                });
            }
        </script>
</body>

</html>